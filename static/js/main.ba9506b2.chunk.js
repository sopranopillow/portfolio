(this.webpackJsonpportfolio=this.webpackJsonpportfolio||[]).push([[0],[,function(t,e,n){"use strict";var o;!function(t){t.SET="SET"}(o||(o={}));var r,s=function(t){return{type:o.SET,update:t}};!function(t){t.ADD="ADD"}(r||(r={}));var i,a=function(t,e){return{type:r.ADD,boundaries:t,toggle:e}};!function(t){t.ADD="ADD"}(i||(i={}));var c=function(t){return{type:i.ADD,boundaries:t}};n.d(e,"f",(function(){return s})),n.d(e,"b",(function(){return o})),n.d(e,"d",(function(){return a})),n.d(e,"a",(function(){return r})),n.d(e,"e",(function(){return c})),n.d(e,"c",(function(){return i}))},,,,,,,,,,,,function(t,e,n){"use strict";var o=n(18);n.d(e,"playerReducer",(function(){return o.a}));var r=n(19);n.o(r,"chestReducer")&&n.d(e,"chestReducer",(function(){return r.chestReducer})),n.o(r,"wallReducer")&&n.d(e,"wallReducer",(function(){return r.wallReducer}));var s=n(20);n.d(e,"chestReducer",(function(){return s.a}));var i=n(21);n.o(i,"wallReducer")&&n.d(e,"wallReducer",(function(){return i.wallReducer}));var a=n(22);n.d(e,"wallReducer",(function(){return a.a}));n(23)},,,,,function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var o=n(1),r={update:function(){}},s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case o.b.SET:return{update:e.update};default:return t}}},function(t,e){},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var o=n(12),r=n(1),s=[],i=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case r.a.ADD:return[].concat(Object(o.a)(t),[{boundaries:e.boundaries,toggle:e.toggle}]);default:return t}}},function(t,e){},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var o=n(12),r=n(1),s=[],i=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case r.c.ADD:return[].concat(Object(o.a)(t),[{boundaries:e.boundaries}]);default:return t}}},function(t,e){},,function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAA9ElEQVR42u2XSw7CMAxEexgWLNkg9tyip+Qy3AdWidzROK5jO2yoZBWJz3sTNxbZtv+14LrfLp9WP4G+X49e5RIMuj+vvUokWFoJxUqTsNKWCHjTpknMpg0JZKVl8KFAdloJbWA6F6rT4u8fBNob7Z4NxtU8CEjojIRMh6WtZhdA2KwA9thqoyrglZCflffT21AulUdg1GO3AAJHAgzMel8iwBKHhxDuS3yNX8oA0/2vPVCYOjL36ejVHkAmkj7zmQCTSFtur4AX7gKfaYPnH84UOCoQBmsSlkAqmElYk7DskDESWHqwwP1fmtoSWH6mW32Y/ALQRbQtJOefqgAAAABJRU5ErkJggg=="},,function(t,e,n){t.exports=n(40)},,,,,function(t,e,n){},,,,,,function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";n.r(e);var o=n(0),r=n.n(o),s=n(11),i=n.n(s),a=(n(32),n(4)),c=n(5),u=n(7),l=n(6),p=n(8),d=n(2),f=n(1),h=(n(38),function(t){function e(){var t,n;Object(a.a)(this,e);for(var o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];return(n=Object(u.a)(this,(t=Object(l.a)(e)).call.apply(t,[this].concat(r)))).state={requestID:0,fps:0,keys:[],log:"empty"},n.timeMeasurements=[],n.keyChange=function(t){var e=n.state.keys;"keyup"===t.type?n.setState({keys:e.map((function(e){return t.key!==e.key||e.isToggle?t.key===e.key&&e.isToggle?{key:e.key,isPressed:!e.isPressed,isToggle:!0}:e:{key:e.key,isPressed:!1,isToggle:!1}}))}):"keydown"===t.type&&n.setState({keys:e.map((function(e){return t.key!==e.key||e.isToggle?e:{key:e.key,isPressed:!0,isToggle:!1}}))})},n.loop=function(){n.timeMeasurements.push(performance.now());var t=n.timeMeasurements[n.timeMeasurements.length-1]-n.timeMeasurements[0];t>=500&&(n.setState({fps:Math.round(n.timeMeasurements.length/t*1e3*2)/2}),n.timeMeasurements=[]),n.props.player.update(n.state.keys,n.props.chests),n.setState({requestID:window.requestAnimationFrame(n.loop)})},n}return Object(p.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){this.setState({requestID:window.requestAnimationFrame(this.loop),keys:[{key:"w",isPressed:!1,isToggle:!1},{key:"a",isPressed:!1,isToggle:!1},{key:"s",isPressed:!1,isToggle:!1},{key:"d",isPressed:!1,isToggle:!1},{key:"e",isPressed:!1,isToggle:!0}]}),document.onkeydown=this.keyChange,document.onkeyup=this.keyChange}},{key:"componentWillUnmount",value:function(){var t=this.state.requestID;t&&window.cancelAnimationFrame(t)}},{key:"render",value:function(){var t=this.state,e=t.fps,n=t.log;return o.createElement("div",{className:"loopStats"},o.createElement("div",null,"fps: ".concat(e," log: ").concat(n)))}}]),e}(o.Component)),y=Object(d.b)((function(t){return{player:t.player,chests:t.chests,walls:t.walls}}),{setPlayer:f.f,addChest:f.d,addWall:f.e})(h),g=function(t,e){return!(t.topLeft.x>e.bottomRight.x||t.bottomRight.x<e.topLeft.x)&&!(t.topLeft.y>e.bottomRight.y||t.bottomRight.y<e.topLeft.y)},m=function(t,e,n){return!(t.topLeft.x>e.bottomRight.x+n||t.bottomRight.x<e.topLeft.x-n)&&!(t.topLeft.y>e.bottomRight.y+n||t.bottomRight.y<e.topLeft.y-n)},b=function(t){function e(t){var n;Object(a.a)(this,e),(n=Object(u.a)(this,Object(l.a)(e).call(this,t))).nextPos=function(t){var e=n.state.position,o=e.bottomRight,r=e.topLeft,s={topLeft:{x:r.x,y:r.y},bottomRight:{x:o.x,y:o.y}};return t.forEach((function(t){if(t.isPressed)switch(t.key){case"a":s.topLeft.x-=2,s.bottomRight.x-=2;break;case"s":s.topLeft.y+=2,s.bottomRight.y+=2;break;case"d":s.topLeft.x+=2,s.bottomRight.x+=2;break;case"w":s.topLeft.y-=2,s.bottomRight.y-=2}})),s},n.checkChestsCollisions=function(t,e){for(var n=0;n<e.length;n++)if(g(t,e[n].boundaries))return!0;return!1},n.update=function(t,e){var o=n.nextPos(t);n.checkChestsCollisions(o,e)||n.setState({position:o});var r=t.find((function(t){return"e"===t.key&&t.isPressed}));void 0!==r&&e.forEach((function(t){m(n.state.position,t.boundaries,n.props.proximityRange)&&(t.toggle(),r.isPressed=!1)}))};var o=n.props,r=o.size,s=o.left,i=o.top;return n.state={position:{topLeft:{x:s,y:i},bottomRight:{x:s+r,y:i+r}}},n}return Object(p.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){this.props.setPlayer(this.update)}},{key:"render",value:function(){var t=this.props.size,e=this.state.position.topLeft,n={position:"absolute",backgroundColor:"red",left:e.x+"px",top:e.y+"px",width:t+"px",height:t+"px"};return o.createElement("div",{style:n})}}]),e}(o.Component),v=Object(d.b)((function(t){return{player:t.player,chests:t.chests,walls:t.walls}}),{setPlayer:f.f})(b),k=(n(39),n(25)),w=n.n(k),A=function(t){function e(t){var n;Object(a.a)(this,e),(n=Object(u.a)(this,Object(l.a)(e).call(this,t))).toggleContent=function(){n.setState({showContent:!n.state.showContent})};var o=n.props,r=o.left,s=o.top,i=o.size;return n.state={position:{topLeft:{x:r,y:s},bottomRight:{x:r+i,y:s+i}},showContent:!1},n}return Object(p.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){this.props.addChest(this.state.position,this.toggleContent)}},{key:"render",value:function(){var t=this.props.size,e=this.state.position.topLeft,n={position:"absolute",width:t+"px",height:t+"px",left:e.x+"px",top:e.y+"px"};return o.createElement(o.Fragment,null,o.createElement("img",{src:w.a,style:n}),this.state.showContent&&o.createElement("div",{className:"content"},this.props.content))}}]),e}(o.Component),O=Object(d.b)((function(t){return{chests:t.chests,player:t.player,walls:t.walls}}),{addChest:f.d})(A),x=function(t){function e(){return Object(a.a)(this,e),Object(u.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(v,{left:150,top:150,proximityRange:10,size:32}),r.a.createElement(O,{content:r.a.createElement("div",null,"hello"),left:100,top:100,size:32}),r.a.createElement(y,null))}}]),e}(r.a.Component),R=Object(d.b)((function(t){return{player:t.player,chests:t.chests,walls:t.walls}}),{setPlayer:f.f,addChest:f.d,addWall:f.e})(x);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var j=n(9),E=n(26),C=n(13),D=Object(j.c)({player:C.playerReducer,chests:C.chestReducer,walls:C.wallReducer}),L=function(){return Object(j.e)(D,void 0,Object(j.d)(Object(j.a)(E.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()))}();i.a.render(r.a.createElement(d.a,{store:L},r.a.createElement(R,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}],[[27,1,2]]]);
//# sourceMappingURL=main.ba9506b2.chunk.js.map