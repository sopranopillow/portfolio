(this.webpackJsonpportfolio=this.webpackJsonpportfolio||[]).push([[0],[,function(t,e,n){"use strict";var o;!function(t){t.SET="SET"}(o||(o={}));var r,s=function(t){return{type:o.SET,update:t}};!function(t){t.ADDCHEST="ADDCHEST"}(r||(r={}));var a,i=function(t,e){return{type:r.ADDCHEST,boundaries:t,toggle:e}};!function(t){t.ADDWALL="ADDWALL"}(a||(a={}));var c=function(t){return{type:a.ADDWALL,boundaries:t}};n.d(e,"f",(function(){return s})),n.d(e,"b",(function(){return o})),n.d(e,"d",(function(){return i})),n.d(e,"a",(function(){return r})),n.d(e,"e",(function(){return c})),n.d(e,"c",(function(){return a}))},,,,,,,,,,,,function(t,e,n){"use strict";var o=n(19);n.d(e,"playerReducer",(function(){return o.a}));var r=n(20);n.o(r,"chestReducer")&&n.d(e,"chestReducer",(function(){return r.chestReducer})),n.o(r,"wallReducer")&&n.d(e,"wallReducer",(function(){return r.wallReducer}));var s=n(21);n.d(e,"chestReducer",(function(){return s.a}));var a=n(22);n.o(a,"wallReducer")&&n.d(e,"wallReducer",(function(){return a.wallReducer}));var i=n(23);n.d(e,"wallReducer",(function(){return i.a}));n(24)},,,,function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAIAAAADnC86AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAA3SURBVFhH7c0xEQAgDAAxhHSsf2d4wMWz5C57zp39QpwRZ8QZcUacEWfEGXFGnBFnxBlxRhyZfb6oWaoh2ObDAAAAAElFTkSuQmCC"},,function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var o=n(1),r={update:function(){}},s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case o.b.SET:return{update:e.update};default:return t}}},function(t,e){},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var o=n(12),r=n(1),s=[],a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case r.a.ADDCHEST:return[].concat(Object(o.a)(t),[{boundaries:e.boundaries,toggle:e.toggle}]);default:return t}}},function(t,e){},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var o=n(12),r=n(1),s=[],a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case r.c.ADDWALL:return[].concat(Object(o.a)(t),[{boundaries:e.boundaries}]);default:return t}}},function(t,e){},,function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABXklEQVR42q1XCw7DIAj1Kj1RD9sDbtmSNoi8D25NTNZp4YnvAY5BnuM4Xmic57kMNvcZw30qo9HwdV3LyM7YGukUGb3nkKNqTZyLv0vnFWpkwFmHwC0gImr2IZt3jyC+lwCQE+aMDRXV5QjUh8poBTSSOBP6kRsjn4qGApOlGZU1ssxcYzsRye8lACavCijjDSPvw4Eqc6H/4ujsGMl4AlCFmqVclwPZ5hIBhBZxYkeKaHw5UJ1Td2csYmwtBVDtuAMCqQRG4Jfd78h0kmGMgpsT0O6cCEylmTUQTm1n6kGhlyroNBlKvur4hnNeTpRY0kJNzUJCtxao9O2AWWTYBdCphixXDIS+Ik5Ow45UJQkrg6iKdSui6iUfAB3WKpl1yvIEQF0qnDzhtnNTOXbb8l9zRJkFc1fsKuFfpRkC6KRgNxLyntg9T+acEfLmGbwN7zYjHRW1b8hu3rfOOz1vj6MSEGxF1g0AAAAASUVORK5CYII="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAA9ElEQVR42u2XSw7CMAxEexgWLNkg9tyip+Qy3AdWidzROK5jO2yoZBWJz3sTNxbZtv+14LrfLp9WP4G+X49e5RIMuj+vvUokWFoJxUqTsNKWCHjTpknMpg0JZKVl8KFAdloJbWA6F6rT4u8fBNob7Z4NxtU8CEjojIRMh6WtZhdA2KwA9thqoyrglZCflffT21AulUdg1GO3AAJHAgzMel8iwBKHhxDuS3yNX8oA0/2vPVCYOjL36ejVHkAmkj7zmQCTSFtur4AX7gKfaYPnH84UOCoQBmsSlkAqmElYk7DskDESWHqwwP1fmtoSWH6mW32Y/ALQRbQtJOefqgAAAABJRU5ErkJggg=="},,function(t,e,n){t.exports=n(42)},,,,,function(t,e,n){},,,,,,function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";n.r(e);var o=n(0),r=n.n(o),s=n(11),a=n.n(s),i=(n(34),n(3)),c=n(4),u=n(6),l=n(5),p=n(7),f=n(2),h=n(1),d=(n(40),function(t){function e(){var t,n;Object(i.a)(this,e);for(var o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];return(n=Object(u.a)(this,(t=Object(l.a)(e)).call.apply(t,[this].concat(r)))).state={requestID:0,fps:0,keys:[],log:"empty"},n.timeMeasurements=[],n.keyChange=function(t){var e=n.state.keys;"keyup"===t.type?n.setState({keys:e.map((function(e){return t.key!==e.key||e.isToggle?t.key===e.key&&e.isToggle?{key:e.key,isPressed:!e.isPressed,isToggle:!0}:e:{key:e.key,isPressed:!1,isToggle:!1}}))}):"keydown"===t.type&&n.setState({keys:e.map((function(e){return t.key!==e.key||e.isToggle?e:{key:e.key,isPressed:!0,isToggle:!1}}))})},n.loop=function(){n.timeMeasurements.push(performance.now());var t=n.timeMeasurements[n.timeMeasurements.length-1]-n.timeMeasurements[0];t>=500&&(n.setState({fps:Math.round(n.timeMeasurements.length/t*1e3*2)/2}),n.timeMeasurements=[]),n.props.player.update(n.state.keys,n.props.chests,n.props.walls),n.setState({requestID:window.requestAnimationFrame(n.loop)})},n}return Object(p.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){this.setState({requestID:window.requestAnimationFrame(this.loop),keys:[{key:"w",isPressed:!1,isToggle:!1},{key:"a",isPressed:!1,isToggle:!1},{key:"s",isPressed:!1,isToggle:!1},{key:"d",isPressed:!1,isToggle:!1},{key:"e",isPressed:!1,isToggle:!0}]}),document.onkeydown=this.keyChange,document.onkeyup=this.keyChange}},{key:"componentWillUnmount",value:function(){var t=this.state.requestID;t&&window.cancelAnimationFrame(t)}},{key:"render",value:function(){var t=this.state,e=t.fps,n=t.log;return o.createElement("div",{className:"loopStats"},o.createElement("div",null,"fps: ".concat(e," log: ").concat(n)))}}]),e}(o.Component)),A=Object(f.b)((function(t){return{player:t.player,chests:t.chests,walls:t.walls}}),{setPlayer:h.f,addChest:h.d,addWall:h.e})(d),y=function(t,e){return!(t.topLeft.x>e.bottomRight.x||t.bottomRight.x<e.topLeft.x)&&!(t.topLeft.y>e.bottomRight.y||t.bottomRight.y<e.topLeft.y)},g=function(t,e,n){return!(t.topLeft.x>e.bottomRight.x+n||t.bottomRight.x<e.topLeft.x-n)&&!(t.topLeft.y>e.bottomRight.y+n||t.bottomRight.y<e.topLeft.y-n)},m=function(t){function e(t){var n;Object(i.a)(this,e),(n=Object(u.a)(this,Object(l.a)(e).call(this,t))).nextPos=function(t){var e=n.state.position,o=e.bottomRight,r=e.topLeft,s={topLeft:{x:r.x,y:r.y},bottomRight:{x:o.x,y:o.y}};return t.forEach((function(t){if(t.isPressed)switch(t.key){case"a":s.topLeft.x-=2,s.bottomRight.x-=2;break;case"s":s.topLeft.y+=2,s.bottomRight.y+=2;break;case"d":s.topLeft.x+=2,s.bottomRight.x+=2;break;case"w":s.topLeft.y-=2,s.bottomRight.y-=2}})),s},n.checkCollisions=function(t,e){for(var n=0;n<e.length;n++)if(y(t,e[n]))return!0;return!1},n.update=function(t,e,o){var r=n.nextPos(t);n.checkCollisions(r,e.map((function(t){return t.boundaries})))||n.checkCollisions(r,o.map((function(t){return t.boundaries})))||n.setState({position:r});var s=t.find((function(t){return"e"===t.key&&t.isPressed}));void 0!==s&&(e.forEach((function(t){g(n.state.position,t.boundaries,n.props.proximityRange)&&t.toggle()})),s.isPressed=!1)};var o=n.props,r=o.size,s=o.left,a=o.top;return n.state={position:{topLeft:{x:s,y:a},bottomRight:{x:s+r,y:a+r}}},n}return Object(p.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){this.props.setPlayer(this.update)}},{key:"render",value:function(){var t=this.props.size,e=this.state.position.topLeft,n={position:"absolute",backgroundColor:"blue",left:e.x+"px",top:e.y+"px",width:t+"px",height:t+"px"};return o.createElement("div",{style:n})}}]),e}(o.Component),b=Object(f.b)((function(t){return{player:t.player,chests:t.chests,walls:t.walls}}),{setPlayer:h.f})(m),v=n(17),w=n.n(v),k=n(26),O=n.n(k),x=function(t){function e(t){var n;switch(Object(i.a)(this,e),(n=Object(u.a)(this,Object(l.a)(e).call(this,t))).img="",n.props.cellType){case 0:n.img=w.a;break;case 1:n.img=O.a,n.props.addWall(n.props.position);break;case 2:n.img=w.a}return n}return Object(p.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){var t=this.props.size,e=this.props.position.topLeft,n={position:"absolute",width:t+"px",height:t+"px",left:e.x+"px",top:e.y+"px"};return o.createElement("img",{alt:"cell",style:n,src:this.img})}}]),e}(o.Component),C=Object(f.b)((function(t){return{chests:t.chests,player:t.player,walls:t.walls}}),{addWall:h.e})(x),R=function(t){function e(t){var n;Object(i.a)(this,e),(n=Object(u.a)(this,Object(l.a)(e).call(this,t))).tiles=[];for(var r=n.props,s=r.tileSet,a=r.sizePerCell,c=0;c<s.length;c++)for(var p=0;p<s[c].length;p++){var f={topLeft:{x:p*a,y:c*a},bottomRight:{x:p*a+a,y:c*a+a}};n.tiles.push(o.createElement(C,{key:"".concat(c,"x").concat(p),position:f,size:n.props.sizePerCell,cellType:s[c][p]}))}return n}return Object(p.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){return o.createElement("div",{style:{position:"absolute",top:this.props.top+"px",left:this.props.left+"px"}},this.tiles.map((function(t){return t})))}}]),e}(o.Component),j=Object(f.b)((function(t){return{chests:t.chests,player:t.player,walls:t.walls}}),{addWall:h.e})(R),E=(n(41),n(27)),D=n.n(E),S=function(t){function e(t){var n;Object(i.a)(this,e),(n=Object(u.a)(this,Object(l.a)(e).call(this,t))).toggleContent=function(){n.setState({showContent:!n.state.showContent})};var o=n.props,r=o.left,s=o.top,a=o.size;return n.state={position:{topLeft:{x:r,y:s},bottomRight:{x:r+a,y:s+a}},showContent:!1},n}return Object(p.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){this.props.addChest(this.state.position,this.toggleContent)}},{key:"render",value:function(){var t=this.props.size,e=this.state.position.topLeft,n={position:"absolute",width:t+"px",height:t+"px",left:e.x+"px",top:e.y+"px"};return o.createElement(o.Fragment,null,o.createElement("img",{alt:"Chest",src:D.a,style:n}),this.state.showContent&&o.createElement("div",{className:"content"},this.props.children))}}]),e}(o.Component),T=Object(f.b)((function(t){return{chests:t.chests,player:t.player,walls:t.walls}}),{addChest:h.d})(S),L=function(t){function e(){return Object(i.a)(this,e),Object(u.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(j,{left:0,top:0,sizePerCell:32,tileSet:[[0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0],[1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],[1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],[1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],[1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],[1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],[1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],[1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],[1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],[1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],[1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],[1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],[0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0]]}),r.a.createElement(T,{left:100,top:100,size:32},r.a.createElement("div",null,"hello")),r.a.createElement(b,{left:150,top:150,proximityRange:10,size:32}),r.a.createElement(A,null))}}]),e}(r.a.Component),W=Object(f.b)((function(t){return{player:t.player,chests:t.chests,walls:t.walls}}),{setPlayer:h.f,addChest:h.d,addWall:h.e})(L);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var P=n(9),U=n(28),N=n(13),B=Object(P.c)({player:N.playerReducer,chests:N.chestReducer,walls:N.wallReducer}),M=function(){return Object(P.e)(B,void 0,Object(P.d)(Object(P.a)(U.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()))}();a.a.render(r.a.createElement(f.a,{store:M},r.a.createElement(W,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}],[[29,1,2]]]);
//# sourceMappingURL=main.e594799a.chunk.js.map